# Telegram Бот для Изучения Английских Слов

Этот бот помогает пользователям учить английские слова с помощью интерактивных карточек и отслеживания прогресса.

## Основные возможности

*   **Изучение слов:** Карточки с русским словом и вариантами перевода на английский или запросом на ввод с клавиатуры.
*   **Умный выбор слов:** Бот чаще предлагает слова, которые пользователь не знает или в которых ошибался.
*   **Добавление своих слов:** Пользователи могут пополнять свой личный словарь (/add_word).
*   **Удаление слов:** Возможность удалить добавленные слова (/delete_word).
*   **Просмотр словаря:** Команда для просмотра всех добавленных слов (/my_words).
*   **Статистика:** Отслеживание и просмотр статистики правильных/неправильных ответов и точности (/stats).
*   **Настройка режима ввода:** Пользователь может выбрать режим ответа: кнопки с вариантами или ввод с клавиатуры (/input_mode).
*   **База данных:** Используется PostgreSQL для хранения слов, прогресса и настроек пользователей.

## Установка и запуск

### Предварительные требования

*   Python 3.8 или выше
*   PostgreSQL сервер (установленный локально или удаленно)
*   Git

### Шаги установки

1.  **Клонировать репозиторий:**
    ```bash
    git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>
    cd <НАЗВАНИЕ_ПАПКИ_РЕПОЗИТОРИЯ>
    ```

2.  **Создать и активировать виртуальное окружение (рекомендуется):**
    ```bash
    python -m venv venv
    # Windows
    venv\Scripts\activate
    # MacOS/Linux
    source venv/bin/activate
    ```

3.  **Установить зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Настроить базу данных PostgreSQL:**
    *   Создайте нового пользователя и базу данных для бота. Например, с помощью `psql`:
        ```sql
        CREATE DATABASE english_bot_db;
        CREATE USER english_bot_user WITH PASSWORD 'СЛОЖНЫЙ_ПАРОЛЬ';
        GRANT ALL PRIVILEGES ON DATABASE english_bot_db TO english_bot_user;
        -- Убедитесь, что у пользователя есть права на создание таблиц в этой БД.
        ```
    *   Запомните имя БД, имя пользователя, пароль и хост/порт сервера PostgreSQL.

5.  **Настроить конфигурацию бота:**
    *   Создайте файл `config.py` в корне проекта.
    *   Добавьте в него следующие переменные:

        ```python
        # config.py

        # Токен вашего Telegram бота (получите у @BotFather)
        BOT_TOKEN = "ВАШ_TELEGRAM_БОТ_ТОКЕН"

        # Параметры подключения к базе данных PostgreSQL
        DB_CONFIG = {
            'database': 'english_bot_db', # Имя вашей БД
            'user': 'english_bot_user',    # Имя пользователя БД
            'password': 'СЛОЖНЫЙ_ПАРОЛЬ',  # Пароль пользователя БД
            'host': 'localhost',           # Адрес сервера БД (или IP/домен)
            'port': '5432'                 # Порт сервера БД (обычно 5432)
        }
        ```
    *   **Важно:** Не добавляйте файл `config.py` с реальными данными в Git! Убедитесь, что он есть в `.gitignore`.

6.  **Запуск бота:**
    ```bash
    python bot.py
    ```
    *   При первом запуске бот автоматически попытается создать необходимые таблицы в базе данных и загрузить стандартный набор слов. Следите за логами в консоли.

## Использование бота

1.  Найдите вашего бота в Telegram по имени, которое вы задали через @BotFather.
2.  Отправьте команду `/start` или `/help` для получения списка доступных команд.
3.  Используйте команды:
    *   `/cards`: Начать тренировку. Вам будет показано русское слово. В зависимости от настроек (`/input_mode`), вам нужно будет либо выбрать правильный английский перевод из предложенных кнопок, либо ввести его с клавиатуры.
    *   `/add_word`: Добавить новое слово. Бот запросит ввод в формате `английское слово - русский перевод`.
    *   `/delete_word`: Удалить ранее добавленное вами слово. Бот запросит английское слово для удаления.
    *   `/my_words`: Показать список всех слов, которые вы добавили.
    *   `/stats`: Показать вашу статистику обучения (количество пройденных слов, правильные/неправильные ответы, точность).
    *   `/input_mode`: Открыть меню для выбора режима ответа на карточки (кнопки или клавиатура).

## Структура базы данных

Бот использует следующие таблицы в PostgreSQL:

*   `common_words`: Общие слова (id, en_word, ru_word).
*   `user_words`: Слова пользователей (id, user_id, en_word, ru_word).
*   `user_word_progress`: Статистика по словам (id, user_id, word_type, word_ref_id, correct_count, incorrect_count, last_tested).
*   `user_preferences`: Настройки пользователей (user_id, input_mode).

Схема базы данных создается автоматически при первом запуске бота.